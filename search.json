[
  {
    "objectID": "docs/weather_eda.html",
    "href": "docs/weather_eda.html",
    "title": "eda",
    "section": "",
    "text": "station_locations <- readr::read_csv(\"../data/station_locations.csv\")\n\n\n── Column specification ────────────────────────────────────────────────────────\ncols(\n  Station = col_character(),\n  Latitude = col_double(),\n  Longitude = col_double()\n)\n\nweather_imputed <- readRDS(\"../data/weather_imputed.rds\") %>% \n  as_tibble()\nweather <- readRDS(\"../data/weather.rds\") %>% \n  as_tibble()\nwu_stations <- readr::read_csv(\"../data/wu_stations.csv\")\n\n\n── Column specification ────────────────────────────────────────────────────────\ncols(\n  Lake = col_character(),\n  Station = col_character(),\n  Station2 = col_character()\n)\n\n\n\nweather %>% \n  summarise(across(avg_temp:low_pressure, ~sum(is.na(.)))) %>% \n  pivot_longer(cols = everything()) %>% \n  mutate(name = str_to_title(str_replace(name, \"_\", \" \"))) %>% \n  ggplot(aes(value, name)) +\n  geom_col() +\n  scale_x_continuous(expand = expansion(add = 0, mult = c(0, 0.1))) \n\n\n\n\n\nweather %>% \n  rowwise %>% \n  mutate(na_count = sum(is.na(c_across(avg_temp:low_pressure))),\n         year = as.factor(year(Date))) %>% \n  select(Location, na_count, year) %>% \n  group_by(Location, year) %>% \n  summarise(na_count = sum(na_count)) %>% \n  ggplot(aes(year, na_count)) +\n  geom_col() +\n  facet_wrap(~ Location, scales = \"free\")\n\n`summarise()` has grouped output by 'Location'. You can override using the `.groups` argument.\n\n\n\n\n\nLot of data missing from Lake of Three Fires. All missing values are from 2018\n\ntitle = \"Every environmental measurement from <span style='color: #0000FF'>the Lake of Three Fires</span> was missing in 2018\"\n\nweather %>% \n  filter(str_detect(Location, \"Three\")) %>% \n  group_by(year(Date)) %>% \n  summarise(across(avg_temp:low_pressure, ~ sum(is.na(.)))) %>% \n  pivot_longer(cols = avg_temp:low_pressure) %>% \n  mutate(Year = as.factor(`year(Date)`), .keep = \"unused\") %>% \n  mutate(name = str_to_title(str_replace(name, \"_\", \" \"))) %>% \n  ggplot(aes(value, name)) +\n  geom_col(aes(fill = Year)) +\n  facet_wrap(~ Year) +\n  theme(\n    legend.position = \"none\",\n    plot.title = element_textbox_simple(family = \"patua-one\", size=30,\n                                        lineheight = 1,\n                                        color = \"#000000\",\n                                        margin = margin(b=10)),\n    strip.background = element_rect(fill = NA, color = NA, size = 1),\n    strip.text = element_text(family = \"patua-one\", color = \"#000000\"),\n    axis.ticks = element_blank(),\n    axis.text = element_text(family = \"patua-one\"), \n    panel.border = element_rect(fill = NA, color = NA, size = 1),\n    axis.title = element_text(family = \"patua-one\"),\n    panel.grid.minor.x = element_blank(),\n    panel.grid.minor.y = element_blank(),\n    panel.grid.major.y = element_blank(),\n  ) +\n  labs(\n    x = \"Observations missing\",\n    y = \"Variable\",\n    title = title\n  ) +\n  scale_x_continuous(expand = expansion(add = 0, mult = c(0, 0.05)))\n\n\n\n\nHigh temperature is normal, low is vaguely normal\n\nweather %>% \n  select(Location:Date, contains(\"wind\")) %>% \n  pivot_longer(cols = contains(\"wind\")) %>% \n  mutate(name = str_replace(name, \"_wind\", \"\"),\n         name = case_when(\n           name == \"avg\" ~ \"Average\",\n           TRUE ~ str_to_title(name)\n         )) %>% \n  filter(name == \"Average\") %>% \n  ggplot(aes(value)) +\n  geom_histogram(aes(fill = name)) + \n  scale_x_log10()\n\nWarning: Transformation introduced infinite values in continuous x-axis\n\n\n`stat_bin()` using `bins = 30`. Pick better value with `binwidth`.\n\n\nWarning: Removed 839 rows containing non-finite values (stat_bin).\n\n\n\n\n\n\ntitle = \"Average environmental measurments <span style='color: #0000FF'>generally decreased</span> between 2018 and 2019.\"\n\nweather %>% \n  mutate(year = as.factor(year(Date)), .keep = \"unused\") %>% \n  select(Location, Station, year, starts_with(\"avg\")) %>% \n  group_by(Location, year) %>% \n  summarise(across(avg_temp:avg_gust, ~ mean(., na.rm = TRUE))) %>% \n  mutate(across(avg_temp:avg_gust, ~  .x - dplyr::lag(.x))) %>% \n  filter(year == 2019) %>% \n  # filter(Location %in% slice_head(unique(weather$Location), n = 20)) %>% \n  filter(Location %in% unique(weather$Location)[1:36]) %>% \n  pivot_longer(avg_temp:avg_gust) %>% \n  mutate(diff = ifelse(value < 0, \"decrease\", \"increase\")) %>% \n  mutate(name = str_to_title(str_replace(name, \"_\", \" \"))) %>% \n  ggplot(aes(name, value, fill = diff)) +\n  geom_col() +\n  facet_wrap(~ Location, nrow = 6) +\n  theme(\n    legend.position = \"none\",\n    axis.text.x = element_text(angle = 90),\n    plot.title = element_textbox_simple(\n      family = \"patua-one\",\n      size = 30,\n      lineheight = 1,\n      color = \"#000000\",\n      margin = margin(b = 10)),\n    axis.ticks = element_blank()\n  ) + \n  labs(\n    title = title,\n    x = \"Measurement\",\n    y = \"\"\n  )\n\n`summarise()` has grouped output by 'Location'. You can override using the `.groups` argument.\n\n\nWarning: Removed 15 rows containing missing values (position_stack)."
  },
  {
    "objectID": "docs/data_prep.html",
    "href": "docs/data_prep.html",
    "title": "Data cleaning",
    "section": "",
    "text": "Reading, editing, cleaning."
  },
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "DNR HAB Prediction",
    "section": "",
    "text": "This repo contains the workflow used in constructing the harmful algal bloom prediction model used on the data gathered by the Iowa Department of Natural Resources between 2018 and 2021."
  }
]